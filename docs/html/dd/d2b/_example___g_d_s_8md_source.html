<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/Users/scott/code/cde/examples/Tutorial_4/Example_GDS.md Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../test.jpeg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dd/d2b/_example___g_d_s_8md.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/Users/scott/code/cde/examples/Tutorial_4/Example_GDS.md</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;##Tutorial 4: Unguided graph-driven sampling {#Tutorial4}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;This tutorial gives example input files and instructions for a typical unguided graph-driven sampling (GDS) calculation run through CDE.</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;In this case, we are going to run a GDS simulation for the 4-atom formaldehyde system. The aim of these simulations is to stochastically generate a large set of reactions (using the allowed move classes in the *movefile*). After generation of a set of reactions, further analysis such as NEB or GraphGen can be used to study the reaction network.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;Ultimately, one might also perform reaction rate calculations and use the rates as input to a microkinetic modelling simulation; connecting CDE to a kinetics modelling code is a work in progress (@ref todo).</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;**The actual files to run this example can be found in the *~/cde/examples/Tutorial_4/* directory.**</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;In this directory, you will find several input files:</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;   input</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;   start.xyz</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;   end.xyz</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;   moves.in</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;All of these input filenames are arbitrary; we could have called them alice, bob, clive and ralph and the program would still read them in correctly. Note that the extensions have no effect for input files read in by CDE, but they can be used to remind you what the different input files are.</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;Let&#39;s have a look at each input file individually:</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;###input</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;The *input* file for this GDS run looks like this:</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;   # Control parameters</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;   nimage 8</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;   temperature 10</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;   calctype gds</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;   startfile start.xyz</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;   endfile end.xyz</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;   ranseed  1</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;   startfrompath   .FALSE.</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;   pathinit  linear</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;   # constraints</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   dofconstraints 3</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;   1 2 3</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   # PES input</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   pestype  null</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   pesopttype  null</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;   # GDS control</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   movefile moves.in</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   gdsthresh 0.1</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   gdsspring 0.05</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   gdsrestspring 0.05</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;   nbstrength 0.05</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;   nbrange 2.3</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;   kradius 0.1</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   gdstemperature 100</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   gdscoefftemp 100</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;   gdscoeffmass 50000</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   timestep 0.5</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;   ngdsiter 200</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   ngdsrelax 2000</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   gdsdtrelax 0.1</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   valencerange{</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;   C 1 4</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   O 1 2</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;   H 0 1</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   }</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   reactiveatomtypes{</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;   C</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   O</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;   H</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   reactiveatoms{</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   range 1 4</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   }</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;The input file in this case only contains those options which are relevant to the GDS simulation; other input directives have been removed and will be ignored internally in CDE.</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;The first input block (beginning with the comment line &quot;# control parameters&quot;) identifies the following input parameters:</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;- **nimage**: Number of images (in total) in the reaction-path which is going to be used to sample reaction-space. In this case, we have 8.</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;- **temperature**: The reaction-string in GDS is dynamic; as well as sampling paths between different reaction end-points, it samples different conformations along the path using molecular dynamics. The *temperature* parameter is used to control the velocities of each atom in the string; these velocities are drawn from a Boltzmann distribution at the input *temperature* (in Kelvin).</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;**IMPORTANT: If the *pestype* is set to null (as it is in this example), the GDS reaction-string is not really dynamic anymore, and we instead simply generate reaction paths connecting sampled reactants and products using interpolation (rather than molecular dynamics).**</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;- **calctype**: Here, we&#39;re using *gds* to indicate that we want to do a GDS calculation.</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;- **startfile**: This is an XYZ format file (with Cartesian coordinates in Angstroms) which contains the coordinates of the start-point of the initial reaction-string.</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;- **endfile**: Like the *startfile*, the *endfile* is an XYZ file which contains the coordinates of the end-point of the initial reaction-string. This file must contain the same number of atoms, as well as the same atomic label order, as the *startfile*.</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;**Note that the *startfile* and the *endfile* can be identical; after starting with this &quot;zero-string&quot;, the natural evolution of GDS will quickly start generating new reaction-paths.**</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;- **ranseed**: This is an integer random number seed, used to generate random initial velocities drawn from the Boltzmann distribution for GDS sampling (see above).</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;- **startfrompath**: Here, by inputting &quot;.FALSE.&quot;, we&#39;re indicating that CDE should generate the initial reaction-path by interpolating between the *startfile* adn the *endfile*.</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;- **pathinit**: This defines the interpolation type which is used to generate the initial reaction-path between the *startfile* and *endfile*. The current option indicates that a simple linear interpolation of coordinates will be used.</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;The next input block (starting with &quot;# constraints&quot;) indicate any constraints we&#39;d like to impose on each image in the reaction-path during NEB optimization.</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;- **dofconstraints**: In this example, we&#39;ve indicated that there are 3 DOF constraints, namely on the (x,y,z) corodinates of atom 1. This particular constraint prevents overall translation of the chemical system. Note that the constraints are applied to all images along the reaction-path.</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;The next block (starting with &quot;# PES input&quot;) defines options to enable potential energy evaluations and geometry optimization during the NEB calculation. These input parameters are discussed elsewhere, such as in @ref PES.</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;However, it is worth noting the particular example given here; specifically, we indicate:</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   pestype  null</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   pesopttype  null</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;The *null* entries indicate that NO potential energy function is used during path sampling. Instead, reaction-paths are generated using an algorithm based on the following steps:</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;(1) Optimization of newly-generated reaction end-points under the graph-enforcing potential.</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;(2) [OPTIONAL] Further optimization of end-points under a potential (see below).</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;(3) Simple linear interpolation of the reaction-path between the end-points.</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;(4) Optimization of the reaction-path under a repulsive potential function to avoid close-contacts.</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;This *&quot;zero-potential&quot;* graph-sampling method is very fast, but can generate reaction-paths which are somewhat further away from the minimum-ewnergy paths than if an actual potential energy function is used.</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;The next input block (&quot;# GDS control&quot;) contains parameters relating to the GDS sampling. The input variables are as follows:</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;- **movefile**: This defines the file containing the list of allowed graph-moves. See the section @ref moves for further details on the format of this file.</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;- **gdsthresh**: During each iteration of the GDS run, *gdsthresh* is the probability that a new graph-move will be attempted (not necessarily accepted).</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;- **gdsspring**: This is the GDS spring constant for the potential energy term acting between adjacent beads (in atomic units, Eh/Bohr^2).</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;- **gdsrestspring**:: This is the force constant for the GDS graph-enforcing potential (in atomic units, Eh/bohr^2).</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;- **nbstrength**: The pre-factor (or strength) for the repulsive term in the GDS graph-enforcing potential (in atomic units, Eh).</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;- **nbrange**: The range parameter for the repulsive term in the GDS graph-enforcing potential. Typical values are between 2 and 3 Bohr (input is in atomic units, Bohr).</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;- **kradius**: This defines the strength of the interaction potential term which ensures that distinct molecules remain a minimum distance apart (in atomic units, Eh).</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;- **gdstemperature**: In the original GDS scheme, the reaction-string itself is dynamic. The input parameter *gdstemperature* defines the temperature (in K) for the Boltzmann distribution which is sampled to generate initial momenta for reaction-string end-points.</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;- **gdscoefftemp**: This parameter defines the temperature (in K) of the Boltzmann distribution which is sampled to generate artificial momenta for the Fourier coefficients which define the dynamic reaction-string in GDS.</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;- **gdscoeffmass**: This is the effective mass of the Fourier coefficients which define the reaction-string (in atomic units, typical value: 50000)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;- **timestep**: This is the time-step (in fs) for MD propagation of the reaction-string during GDS.</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;- **ngdsiter**: Number of iterations (or time-steps) in GDS simulation.</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;- **ngdsrelax**: After each graph-move, we re-optimize the atomic coordinates of the moved end-point under the action of the graph-enforcing potential. This is achieved using a simple steepest descent algorithm running for *ngdsrelax* steps.</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;- **gdsdtrelax**: In the steepest descent calculation mentioned above, *gdsdtrelax** is the effective time-step which is taken during optimization (in au, typical valu 0.1).</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;The remaining section of the input file, contains the following entries:</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   valencerange{</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   C 1 4</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   O 1 2</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   H 0 1</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;   reactiveatomtypes{</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   C</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   O</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   H</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   reactiveatoms{</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   range 1 4</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;These directives are described in more detail in @ref Annotated. In general, they define which atoms are allowed to react (*reactiveatomtypes*), the allowed valence ranges of the atoms (*valencerange*), and the indices of the reactive atoms (*reactiveatoms*).</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;In the example given above:</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;- Carbon can bond to between 1 and 4 other atoms, oxygen can bond to 1 or 2 other atoms and hydrogen can bond to 0 or 1 other atoms.</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;- All atom types in this system (Co,O and H) can participate in reactions.</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;- All 4 atoms in the system can participate in reactions, as identified by the *range 1 4* entry under *reactiveatoms*.</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;Note that there is some redundancy here, but the ability to define reactivity in different ways allows flexibility in applications.</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;### start.xyz and end.xyz</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;The *start.xyz* and *end.xyz* files are standard XYZ format files (Cartesian coordinates in Angstroms). For example, in the current example, the *start.xyz* file looks like this:</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    4</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    starting point</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    C       0.0  0.0  0.0</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    O      -1.30  0.0  0.0</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    H      0.5  0.866  0.0</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    H      0.5 -0.866 0.0</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;The *start.xyz* and *end.xyz* files are used to generate the initial reaction-string for GDS sampling.</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;During GDS, new reactions and reaction-strings are quickly generated. So, even if you start with the *start.xyz* and *end.xyz* files being the same, your GDS run will very quickly generate new reaction-paths.</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;If *start.xyz* and *end.xyz* are different, the code will try to generate an initial reaction-string by linear interpolation between the two end-points if the variable *pathinit* is set to *linear*. (Note that, in the current version of the code, the only option to *pathinit* is *linear*).</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;### moves.in</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;The moves.in file describes the allowed chemical reaction classes which are allowed to take place; these allowed moves are applied to configurations during a GDS calculation in order to generate new reaction end-points.</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;The format of the move-file is discussed in @ref moves.</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;### Running the calculation</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;With these input files, we are now able to run the GDS calculation. To do so, go into the *~/cde/examples/gds/* directory and type:</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   cde.x input</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;The above assumes that you have already made sure that CDE can be run by simply typing *cde.x*. See the [setup section] (@ref setup) for more details.</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;As the calculation runs, you will find lots of output files generated in the run directory.</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;The interesting output files are as follows:</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;- **initial_path.xyz**: This file contains the initial reaction-string generated by CDE using the *start.xyz* and *end.xyz* files.</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;- **input.nebprofile**: This file contains the energy profile along the reaction-string at the different iterations of the NEB calculation; both absolute energy and relative energy are given. This file is output every **neboutfreq* steps of the NEB optimization.</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;- **input_YYYY.xyz**: These files contain the reaction paths generated after new graph-moves have been performed. The files are labelled with numbers *YYYY*, indicating the structure sequence number. These files are in standard XYZ format. They can be visualized in *VMD* or *Avogadro*. **Important: Each of these XYZ files can be used as an input *pathfile* to a further CINEB calculation.**</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;- **input.ChemReacList.info**: This file is a database which contains useful information about all of the reaction-paths generated during the GDS run. It contains information such as the chemical identities of molecules involved in the reaction, the type of the reaction performed, and the SPRINT coordinate for the reactant and product molecules.</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;In addition to the above ouptut files, the *.log file produced by all CDE calculations will also contain some useful information about the NEB run.</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;### Next steps</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;- Each of the XYZ files generated by GDS could, in principle, be used as the starting-point of a CINEB refinement calculation. Ultimately, this would enable reaction rate calculation for each GDS-sampled reaction-path, leading to creating of a &quot;rate library&quot; for input into a kinetic model. This kinetic model could then be simulated using Kinetic Monte Carlo to predict experimental observables such as rate laws.</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;- Kinetic Monte Carlo code is available in the group but is not yet explicitly linked to GDS.</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Example_GDS.md</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
