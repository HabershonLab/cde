<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/Users/scott/code/cde/examples/Tutorial_1/Example_CINEB.md Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../test.jpeg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dc/de5/_example___c_i_n_e_b_8md.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/Users/scott/code/cde/examples/Tutorial_1/Example_CINEB.md</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;### Tutorial 1: CINEB {#Tutorial1}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;This section gives example input files and instructions for a typical CINEB calculation run through CDE.</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;In this case, we are going to run a CINEB optimization of a reaction path representing dissociation of molecular hydrogen (H2) from formaldehyde (H2CO). We will using the semi-empirical PM3 method *via* the *ab initio* code *ORCA*, to calculate potential energies and forces.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;**The actual files to run this example can be found in the *~/cde/examples/Tutorial_1 directory.**</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;In this directory, you will find several input files:</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;      input</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;      initial_path.xyz</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;      orca.head</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;      orca.min</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;All of these input filenames are arbitrary; we could have called them alice, bob, clive and ralph and the program would still read them in correctly. Note that the extensions have no effect for input files read in by CDE, but they can be used to remind you what the different input files are.</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;Let&#39;s have a look at each input file individually:</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;###input</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;The *input* file looks like this:</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    # This input file demonstrates a CINEB refinement.</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    # We use the quickmin method here, and orca</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    # for PES calculations.</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    nimage 8</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    temperature 10</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    calctype optpath</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    startfile start.xyz</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    endfile end.xyz</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    pathfile path.xyz</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    ranseed  5</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    startfrompath  .FALSE.</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    pathinit  linear</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    # path optimization</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    pathoptmethod cineb</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    nebmethod quickmin</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    nebiter 250</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    vsthresh 1d-2</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    cithresh 1d-3</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    nebspring 0.05</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    nebconv 2d-3</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    nebstep  10.0</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    neboutfreq 5</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    stripinactive .FALSE.</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    optendsbefore .TRUE.</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    optendsduring .false.</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    nebrestrend .FALSE.</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    alignedatoms</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    1 2 3</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    # constraints</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    dofconstraints 0</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    atomconstraints 0</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    # PES input</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    pesfull .true.</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    pestype  orca</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    pesfile   orca.head</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    pesopttype  orca</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    pesoptfile orca.min</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    pesexecutable orca</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    pesoptexecutable orca</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;The input file in this case only contains those options which are relevant to the CINEB simulation; other input directives have been removed and will be ignored internally in CDE.</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;The first input block (beginning with the comment line &quot;# control parameters&quot;) identifies the following input parameters:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;- **nimage**: Number of images (in total) in the reaction-path which is going to be optimized. In this case, we have 8; note that the number of images indicated here must be the same as in the input pathfile if *startfrompath = .TRUE.* (see below).</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;- **temperature**: We&#39;re going to use the *quickmin* optimization algorithm to refine our path (see below). In *quickmin*, each atom in each string is given a velocity to move it towards the MEP; these initial velocities are drawn from a Boltzmann distribution at the input temperature (in Kelvin) indicated here. For *quickmin* optimization, this temperature should be relatively low.</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;- **calctype**: Here, we&#39;re using *optpath* to indicate that we want to do a path optimization calculation.</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;- **pathfile**: In nudged elastic band path refinement calculations, we often have a good initial guess of the reaction path we&#39;d like to refine. The *pathfile* variable defines the input file where our initial reaction-path guess is stored. In this case, we&#39;re saying that our initial reaction-path is in *path.xyz*; this is an *xyz* format file (with coordinates given in Angstroms) which MUST contain the same number of snapshots as the number *nimage* defined above.</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;**IMPORTANT: In this example, although we&#39;re showing how to define a starting *pathfile*, we&#39;re note actually going to use it! Instead, we&#39;ve set *startfrompath .FALSE.*, which means that the initial path is instead going to be generated by linear interpolation of coordinates between the *startfile* and *endfile*.**</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;- **ranseed**: This is an integer random number seed, used to generate random initial velocities drawn from the Boltzmann distribution for *quickmin* (see above)</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;- **startfile**: This is an xyz file containing the reactant structure for our target system.</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;- **endfile**: This is an xyz file containing the product structure for out target system. **Note that the *startfile* and *endfile* MUST have the same number of atoms in the same order!**</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;- **startfrompath**: Here, by inputting &quot;.FALSE.&quot;, we&#39;re indicating that CDE should instead start by generating its own initial path by linear interpolation between *startfile* and *endfile*.</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;The second input block (beginning with &quot;# path optimization&quot;) defines parameters which control the NEB path refinement calculation:</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;- **pathoptmethod**: We&#39;re setting this to *cineb*, to indicate that we&#39;d like to run a CINEB calculation.</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;- **nebmethod**: This defines the optimization method we&#39;re using to find the minimum-energy path. Options are *quickmin*, which uses a velocity Verlet-based method, or *steepest* for a simple steepest-descent method. The *quickmin* method is preferred - it&#39;s usually much faster to converge.</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;- **nebiter**: This defines the mamximum number of CINEB iterations to perform before stopping. Note that if the calculation reaches a force convergence value lower than *nebconv* (see below), it stops anyway.</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;- **cithresh**: This is the force threshold at which the climbing-image variant of NEB (see references for details) is activated. In this case, once the current reaction-path forces are less than 0.008 Eh/a0, climbing-image is activated.</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;- **nebconv**: Target force convergence threshold for CINEB calculation.</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;- **nebspring**: CINEB sprin parameter (in atomic units, Eh/a0**2).</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;- **nebstep**: Step-length parameter for optimization. In the case of *quickmin*, this is an effective velocity Verlet time-step taken at each CINEB iteration (in atomic units, so a value of ~41 au corresponds to about a 1 fs time-step). In the case of steepest-descent (*nebmethod steepest*), the *nebstep* parameter indicates the fraction of the current force used to update the atomic coordinates at each step.</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;- **neboutfreq**: Frequency with which the NEB calculation will output the current reaction path and energy profile. The energy profiles are input to the file ending with *.nebprofile* and the paths are output to *input_YYYY.xyz*, where *YYYY* is the current NEB iteration.</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;- **stripinactive**: If set toe *.TRUE.*, then any molecules which are simply acting as &quot;spectators&quot; to the reaction (e.g. they are far away from the reaction sites and do not participate) are &quot;stripped&quot; (removed) from the reaction path BEFORE the NEB calculation. This option can make calculations a bit faster!</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;- **optendsbefore**: If set to *.TRUE.*, then CDE first performs a geometry optimization of the two end-point structures *before* procedding with CINEB.</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;- **optendsduring**: If set to *.TRUE.*, the two end-points are optimized under the action of the PES *during* the NEB optimization. Here, the end-points only feel the force due to the PES, and do not feel the NEB springs.</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;- **nebrestrend**: If *optendsduring = .TRUE.*, this options indicates whether or not to additionally include the graph-restraining potential into the forces felt by the two end-points during NEB optimization. This option can prevent the end-point molecules changing the connectivity during NEB optimization. Note that this option is only important if *optendsduring = .TRUE.*.</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;- **alignedatoms**: As described in the *annotated input file description* (@ref Annotated), the *alignedatoms* directive tells CDE which triple of atoms should serve as coordinates to align and orient the NEB string in space, to avoid overall translation and rotation of the system during NEB refinement.</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;The next input block (starting with &quot;# constraints&quot;) indicate any constraints we&#39;d like to impose on each image in the reaction-path during NEB optimization.</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;- **atomconstraints**: In this example, we&#39;ve indicated that there are no atom constraints (beyond the *alignedatoms* directive noted above).</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;- **dofconstraints**: Again, in this case, we don&#39;t have any DOF constraints other than those noted above.</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;The final block (starting with &quot;# PES input&quot;) defines options to enable potential energy evaluations and geometry optimization during the NEB calculation. These input parameters are discussed elsewhere, such as in *Annotated input file description* (@ref Annotated).</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;### start.xyz and end.xyz</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;Here, the file *start.xyz* and *end.xyz* files contain the reactant and product structures for the initial reaction-path. These are xyz files, as described in *I/O formats* (@ref formats).</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;### orca.head</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;In the current calculation, we&#39;re going to use the *ab initio* code *ORCA* to perform potential energy and force evaluations.</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;Again, note that we could have called this file anything we wanted to - it doesn&#39;t have to be called *orca.head*. However, we must make sure that this is the same filename as defined in the *pesfil* variable in the input file above.</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;The *orca.head* file looks like this.</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;   ! PM3 ENGRAD</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   * xyz 0 1</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;   XXX</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   *</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;Note that this file is exactly the same format as a usual *ORCA* input file:</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;- The first line tells *ORCA* to run an *energy and gradient* evaluation using the *PM3* semi-empirical method.</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;- The second line begins the geometry specification; here, we&#39;re indicating that the geometry will be specified as *xyz* Cartesian coordinates (in Angstroms), the total charge on the system is *0*, and the total spin multiplicity is *1* (i.e. closed-shell species).</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;- In a normal *ORCA* file, we would then input the geometry on the following lines. For example, an *ORCA* input file would look like this:</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;       ! PM3 ENGRAD</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;       * xyz 0 1</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;       C 0.1500  0.2166 0.007</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;       O 1.56  1.679  5.7098</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;       *</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;- However, in an input file for CDE, the coordinate block is simply replaced by the string *XXX*. This indicates that this is the point at which *CDE* should insert coordinates for molecules it would like to run through *ORCA*.</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;- Finally, there is a &quot;*&quot; symbol on the last line to indicate that this is the end of the *ORCA* input file.</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;### orca.min</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;Like the *orca.head* file, the file defined as *pesoptfile* should also be present in the directory.</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;This file indicates how to run a geometry optimization calculation; note that this calculation is only used if *optendsbefore = .TRUE.*.</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;As in the case of the files above, the *pesoptfile* can be called anything you&#39;d like!</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;The format of the *pesoptfile* (here called *orca.min*) is the same as an *ORCA* file for a geometry optimization, but again with the condition that the coordinate input block is replaced by *XXX*. An example is:</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   ! PM3 OPT TightSCF</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   * xyz 0 1</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   XXX</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   *</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;Note that everything in the file above is the normal *ORCA* format; the only difference is the *XXX* line required by CDE.</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;### A note on executables for external programs</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;Note that our input file above contains two variables defined as:</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      pesexecutable orca</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      pesoptexecutable orca</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;The *pesexecutable* and *pesoptexecutable* variables indicate which code to run to calculate energies and forces; in this case, we&#39;re using *ORCA*.</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;Note that, in each case, the input command is run directly. For example, based on the above, CDE will run the following command when an *ORCA* calculation is required:</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   orca temp.in</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;where *temp.in* is the name of a temporary input file which is auto-generated by CDE during NEB calculations.</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;**If there is no executable called &quot;orca&quot;, the CDE calculation will fail!**</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;To make sure everything runs smoothly, there are two options:</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;(1) You can set up an alias so that, when CDE executes the command *orca* given as *pesexecutable* and *pesoptexecutable*, everything runs as expected. For example, lets say you have *ORCA* installed in *~/programs/stuff/orca/bin/*. If you include an alias in your *.bashrc* (or similar config file if you&#39;re on a different system) which reads</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   alias orca=&#39;~/programs/stuff/orca/bin/orca&#39;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;then running the command *orca* will then execute *~/programs/stuff/orca/bin/orca*, which should indeed correspond to an executable binary.</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;(2) As an alternative, you can also give the full pathname to the deisred executable directly in the input file, lik this:</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      pesexecutable ~/programs/stuff/orca/bin/orca</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      pesoptexecutable ~/programs/stuff/orca/bin/orca</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;###Running the calculation</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;With these input files, we are now able to run the CINEB optimization. To do so, go into the *~/cde/examples/cineb/* directory and type:</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   cde.x input</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;The above assumes that you have already made sure that CDE can be run by simply typing *cde.x*. See the [setup section] (@ref setup) for more details.</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;As the calculation runs, you will find lots of output files generated in the run directory. Many of these files will be useless outputs generated by *ORCA*, typically ocntaining wavefunction and integration grid information.</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;The interesting output files are as follows:</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;- **input.nebconv**: This file shows the total norm of the forces, averaged over the images. These values are given for calculations performed with and without the NEB spring terms. This file can be monitored during the calculation to find out how close to convergence the NEB calculation is. This file is written after every NEB iteration.</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;- **input.nebprofile**: This file contains the energy profile along the reaction-string at the different iterations of the NEB calculation; both absolute energy and relative energy are given. This file is output every **neboutfreq* steps of the NEB optimization.</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;- **input_YYYY.xyz**: These files contain the refined path at NEB iteration *YYYY*. These files are output every *neboutfreq* steps of the NEB optimization, and are in standard XYZ format. They can be visualized in *VMD* or *Avogadro*.</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;- **input.energy-neb-start**: This contains the energy profile of the reaction string at the start of the calculation.</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;- **input.energy-neb-end**: This contains the energy profile of the reaction string at the end of the calculation.</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;In addition to the above ouptut files, the *.log file produced by all CDE calculations will also contain some useful information about the NEB run.</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;###Next steps</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;Possible further steps include:</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;- Performing geometry optimization, followed by frequency calculations, for the reaction-path end-points in order to calculate the free energies using the harmonic oscillator/rigid rotor approximation.</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;- Finding the transition state for the reaction, using the image nearest to the top of the reaction-barrier obtained by NEB.</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;- Using all of the above information to calculte the transition-state theory rate constant.</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>Example_CINEB.md</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
