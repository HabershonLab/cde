<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: PES templates</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../test.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d7/d2d/_templates.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">PES templates </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page gives several examples of template files for PES evaluation or geometry evaluation.</p>
<p>In these examples, the only part of the file which is written by CDE is in replacing the <em>XXX</em> with the coordinates at which the energy evaluation is being performed. All other aspects, such as the calculation type (e.g. DFT, Hartree-Fock, semi-empirical, DFTB+), basis sets, accuracy, and so on, are controlled by editing the <em>pesfile</em> and <em>pesoptfile</em> BEFORE the CDE calculation starts.</p>
<p>Note that a single PES template file is used for all energy evaluations in CDE. There is no option to change the PES evaluation-type "on the fly".</p>
<h1><a class="anchor" id="autotoc_md10"></a>
ORCA examples</h1>
<ul>
<li>Example header file for a PES evaluation by ORCA using PM3 semi-empirical method:</li>
</ul>
<pre class="fragment">    ! PM3
    * xyz 0 1
    XXX
    *
</pre><ul>
<li>Example header file for a PES evaluation by ORCA using DFT (B3LYP):</li>
</ul>
<pre class="fragment">! DFT B3LYP aug-cc-pvtz
    * xyz 0 1
    XXX
    *
</pre><ul>
<li>Example header file for geometry optimization using PM3:</li>
</ul>
<pre class="fragment">    ! PM3 OPT
    * xyz 0 1
    XXX
    *
</pre><h1><a class="anchor" id="autotoc_md11"></a>
DFTB+ example</h1>
<p>In the case of DFTB+, note that the input file must correctly specify the location of any Slater-Koster files required by the DFTB+ code.</p>
<ul>
<li>Example header file for PES evaluation by DFTB+:</li>
</ul>
<pre class="fragment">     Geometry = GenFormat {
    XXX
    }
    Driver = {}
     Hamiltonian = DFTB {
     SCC = Yes
     SCCTolerance = 1e-3
     Mixer = Broyden{}
     Eigensolver = RelativelyRobust {}
    MaxAngularMomentum {
     C = "p"
    O = "p"
    H = "s"
     }
    SlaterKosterFiles = Type2FileNames {
    Prefix = "./SKfiles/"
     Separator = "-"
     Suffix = ".skf"
     }
    }
    Analysis = {
    CalculateForces = Yes
     }
</pre><ul>
<li>DFTB+ geometry optimization example (with constraints):</li>
</ul>
<pre class="fragment">Geometry = GenFormat {
XXX
}
 Driver = ConjugateGradient{
 MaxForceComponent = 1d-5
 MaxSteps = 1000
 Constraints = {
 1 1.0 0.0 0.0
 1 0.0 1.0 0.0
 1 0.0 0.0 1.0
 2 0.0 1.0 0.0
 2 0.0 0.0 1.0
 3 0.0 0.0 1.0
 }
 }
 Hamiltonian = DFTB {
SCC = Yes
 SCCTolerance = 1e-3
 Mixer = Broyden{}
 Eigensolver = RelativelyRobust {}
MaxAngularMomentum {
 C = "p"
O = "p"
 H = "s"
 }
 SlaterKosterFiles = Type2FileNames {
 Prefix = "./SKfiles/"
 Separator = "-"
 Suffix = ".skf"
 }
 }
 Analysis = {
 CalculateForces = Yes
 }
</pre><h1><a class="anchor" id="autotoc_md12"></a>
Psi-4 example</h1>
<ul>
<li>Hartree-Fock example using Psi-4</li>
</ul>
<pre class="fragment">################
# INPUT SETUP #
################

molecule x {
0 1
XXX
}

set {
    basis def2-SVP
    fail_on_maxiter false
}


################
# OUTPUT SETUP #
################

energy = energy('scf')
grad = np.array(gradient('scf'))

e = open('e.out','w')
e.write(str(energy))
e.close()

f = open('f.out','w')
for i in grad:
    for j in i:
        f.write(str(j)+'\n')
f.close
</pre><h1><a class="anchor" id="autotoc_md13"></a>
LAMMPS/ReaxFF example</h1>
<ul>
<li>The following is an example of a LAMMPS input file (<em>e.g. lmp.head</em>) for running a ReaxFF calculation.</li>
</ul>
<pre class="fragment">#dimension      3
units          real
boundary       f f f
atom_style     charge
atom_modify    map array sort 0 0.0

# XXX replaced by mass labels and atom creation

XXX

pair_style     reax/c lmp_control
# Force file to be used, types added automatically
pair_coeff     * * CHOPtNiX.ff
fix            1 all qeq/reax 1 0.0 10.0 1.0e-8 reax/c  # new addition

neighbor       1.0 bin
neigh_modify   every 1 delay 0 check no

compute        reax all pair reax/c

dump           1 all custom 1 temp.force fx fy fz
dump_modify    1 format float "%14.8f"

thermo         0
thermo_style   custom pe

run            0
</pre><ul>
<li>The following is an example of a geometry optimization calculation performed using ReaxFF through LAMMPS.</li>
</ul>
<pre class="fragment"> # Intialization
 dimension      3
 units          real
 boundary       f f f
 atom_style     charge
 atom_modify    map array sort 0 0.0

 # XXX replaced by mass labels and atom creation
 XXX

 pair_style     reax/c lmp_control
 # Force file to be used, atom types are added automatically for reax/c
 pair_coeff     * * CHOPtNiX.ff
 fix            1 all qeq/reax 1 0.0 10.0 1.0e-8 reax/c

 neighbor       2.5 bin
 neigh_modify   every 1 delay 0 check no

 compute        reax all pair reax/c

 thermo         1
 thermo_style   custom pe

 min_style quickmin # new addition
  minimize 1.00e-10 1.00e-8 50000 50000

 timestep 1

 # output forces
 dump           2 all custom 1 temp.force fx fy fz
 dump_modify    2 format float "%14.8f"
</pre><ul>
<li>Both of the files above also require two additional files to be present in the run directory. The first of these, <em>lmp_control</em> is an additional LAMMPS control file, which usually looks like the following:</li>
</ul>
<pre class="fragment"> nbrhood_cutoff          5.0  ! near neighbors cutoff for bond calculations in A
 hbond_cutoff            6.0  ! cutoff distance for hydrogen bond interactions
 bond_graph_cutoff       0.3  ! bond strength cutoff for bond graphs
 thb_cutoff              0.001 ! cutoff value for three body interactions
 atom_forces 1
</pre><ul>
<li>The second additional file required is the ReaxFF parameter file. In this case, it is referred to as <em>CHOPtNiX.ff</em>, but this could be changed depending on the system under investigation and the parameters available. An example of these <em>ff</em> files can be found in <em>Tutorial 2</em> (<a class="el" href="../../d4/d51/_tutorial2.html">Tutorial 2: CINEB using LAMMPS</a>). </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
